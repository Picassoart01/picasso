<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Picasso - Create & Sell Art</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background: #000;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .gradient-logo {
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .action-btn {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .action-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }
        
        .brush-icon {
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .live-badge {
            background: linear-gradient(45deg, #ff0050, #ff4081);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .boost-btn {
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
        }
        
        .boost-btn:hover {
            background: linear-gradient(45deg, #764ba2 0%, #667eea 100%);
        }
        
        .buy-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
        }
        
        .buy-btn:hover {
            background: linear-gradient(45deg, #ee5a24, #ff6b6b);
            transform: translateY(-1px);
        }
        
        .follow-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
        }
        
        .follow-btn:hover {
            background: linear-gradient(45deg, #764ba2, #667eea);
        }
        
        .product-tag {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .tab-active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }
        
        .tab-inactive {
            background: rgba(255, 255, 255, 0.1);
            color: #ccc;
        }
        
        .top-nav-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .top-nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Camera Modal Styles */
        .camera-modal {
            width: 100%;
            height: 100vh;
            max-width: none;
            max-height: none;
            margin: 0;
            border-radius: 0;
            background: #000;
            display: flex;
            flex-direction: column;
        }

        .camera-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
        }

        .close-camera, .camera-flip {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .close-camera:hover, .camera-flip:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .camera-container {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #cameraPreview {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .camera-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 30px;
            background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        .recording-timer {
            color: #ff4757;
            font-size: 18px;
            font-weight: bold;
            background: rgba(0, 0, 0, 0.8);
            padding: 8px 16px;
            border-radius: 20px;
        }

        .camera-buttons {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .record-btn {
            width: 80px;
            height: 80px;
            border: 4px solid white;
            border-radius: 50%;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .record-btn:hover {
            transform: scale(1.1);
        }

        .record-btn.recording {
            border-color: #ff4757;
        }

        .record-circle {
            width: 60px;
            height: 60px;
            background: #ff4757;
            border-radius: 50%;
            transition: all 0.3s;
        }

        .record-btn.recording .record-circle {
            width: 30px;
            height: 30px;
            border-radius: 4px;
        }

        .camera-actions {
            display: flex;
            gap: 30px;
        }

        .camera-action {
            width: 50px;
            height: 50px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .camera-action:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: white;
        }

        /* Upload Area Styles */
        .upload-area {
            border: 2px dashed #666;
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin: 20px 0;
        }

        .upload-area:hover {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.05);
        }

        .upload-area i {
            font-size: 48px;
            color: #666;
            margin-bottom: 16px;
        }

        .upload-area p {
            font-size: 18px;
            margin-bottom: 8px;
        }

        .upload-area small {
            color: #888;
        }

        .upload-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 20px;
        }

        /* Comments Section */
        .comments-section {
            background: rgba(31, 41, 55, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(75, 85, 99, 0.3);
        }

        /* Services Dropdown */
        .services-dropdown {
            background: rgba(31, 41, 55, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(75, 85, 99, 0.3);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>
<body class="bg-black text-white">
    <div id="app" class="min-h-screen">
        <!-- Header -->
        <header class="fixed top-0 left-0 right-0 z-50 bg-black/80 backdrop-blur-md border-b border-gray-800">
            <div class="flex items-center justify-between px-4 py-3">
                <div class="flex items-center space-x-6">
                    <h1 class="text-2xl font-bold gradient-logo">Picasso</h1>
                    <div class="hidden md:flex space-x-4">
                        <button class="px-4 py-2 rounded-full action-btn text-sm font-medium hover:scale-105 transition-all">
                            <i class="fas fa-users mr-2"></i>Friends
                        </button>
                        <button class="px-4 py-2 rounded-full action-btn text-sm font-medium hover:scale-105 transition-all">
                            <i class="fas fa-palette mr-2"></i>Artists
                        </button>
                        <button class="px-4 py-2 rounded-full action-btn text-sm font-medium hover:scale-105 transition-all">
                            <i class="fas fa-video mr-2"></i>Live
                        </button>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="p-2 rounded-full action-btn hover:scale-105 transition-all">
                        <i class="fas fa-search text-lg"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="pt-20 pb-20">
            <!-- Home Tab Content -->
            <div id="home-content" class="tab-content">
                <div class="max-w-md mx-auto space-y-4">
                    <!-- Video Card 1 -->
                    <div class="relative bg-gray-900 rounded-2xl overflow-hidden">
                        <div class="aspect-[9/16] bg-gradient-to-br from-purple-900 to-blue-900 flex items-center justify-center relative">
                            <i class="fas fa-play text-6xl text-white/50"></i>
                            
                            <!-- Product Tag -->
                            <div class="absolute bottom-20 left-4 product-tag rounded-full px-3 py-1 text-xs cursor-pointer" onclick="viewLinkedProducts(this)">
                                <i class="fas fa-shopping-bag mr-1"></i>
                                Oil Painting - â‚±8,500
                            </div>
                        </div>
                        
                        <div class="absolute right-4 bottom-24 flex flex-col space-y-4">
                            <div class="text-center">
                                <button class="action-btn p-3 rounded-full hover:scale-105 transition-all brush-btn" onclick="toggleBrush(this)">
                                    <i class="fas fa-paint-brush text-xl brush-icon"></i>
                                </button>
                                <div class="text-xs text-gray-400 brush-count">2.1K</div>
                            </div>
                            
                            <div class="text-center">
                                <button class="action-btn p-3 rounded-full hover:scale-105 transition-all comment-btn" onclick="toggleComments(this)">
                                    <i class="fas fa-comment text-xl"></i>
                                </button>
                                <div class="text-xs text-gray-400 comment-count">89</div>
                            </div>
                            
                            <div class="text-center">
                                <button class="action-btn p-3 rounded-full hover:scale-105 transition-all share-btn" onclick="shareVideo(this)">
                                    <i class="fas fa-share text-xl"></i>
                                </button>
                                <div class="text-xs text-gray-400">Share</div>
                            </div>

                            <!-- Shopping Cart Icon for Product-linked Videos -->
                            <div class="text-center">
                                <button class="action-btn p-3 rounded-full hover:scale-105 transition-all cart-btn" onclick="viewLinkedProducts(this)">
                                    <i class="fas fa-shopping-cart text-xl text-yellow-400"></i>
                                </button>
                                <div class="text-xs text-gray-400">2</div>
                            </div>
                        </div>
                        
                        <div class="absolute bottom-4 left-4 right-20">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center space-x-3">
                                    <img src="https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=50&h=50&fit=crop" 
                                         alt="Artist" class="w-10 h-10 rounded-full">
                                    <div>
                                        <div class="font-semibold">@artista_maya</div>
                                        <div class="text-sm text-gray-400">Digital Artist</div>
                                    </div>
                                </div>
                                <button class="follow-btn px-4 py-2 rounded-full text-sm font-medium">
                                    Follow
                                </button>
                            </div>
                            <p class="text-sm text-gray-300">Creating magic with colors âœ¨ #art #painting #creative</p>
                            
                            <!-- Comments Section (Hidden by default) -->
                            <div class="comments-section hidden mt-4 rounded-lg p-4">
                                <div class="max-h-40 overflow-y-auto space-y-2 mb-3">
                                    <div class="flex items-start space-x-2">
                                        <img src="https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=30&h=30&fit=crop" alt="User" class="w-6 h-6 rounded-full">
                                        <div>
                                            <span class="text-white text-sm font-medium">@user1</span>
                                            <p class="text-gray-300 text-sm">Amazing artwork! ðŸŽ¨</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start space-x-2">
                                        <img src="https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=30&h=30&fit=crop" alt="User" class="w-6 h-6 rounded-full">
                                        <div>
                                            <span class="text-white text-sm font-medium">@user2</span>
                                            <p class="text-gray-300 text-sm">Love the colors!</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <input type="text" placeholder="Add a comment..." class="flex-1 bg-gray-700 text-white px-3 py-2 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-pink-500">
                                    <button class="bg-pink-500 text-white px-4 py-2 rounded-full text-sm hover:bg-pink-600 transition-colors">Post</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Video Card 2 -->
                    <div class="relative bg-gray-900 rounded-2xl overflow-hidden">
                        <div class="aspect-[9/16] bg-gradient-to-br from-green-900 to-teal-900 flex items-center justify-center relative">
                            <i class="fas fa-play text-6xl text-white/50"></i>
                            
                            <!-- Live Badge -->
                            <div class="absolute top-4 left-4 live-badge px-3 py-1 rounded-full text-xs font-bold">
                                <i class="fas fa-circle text-xs mr-1"></i>LIVE
                            </div>
                            
                            <!-- Product Tag -->
                            <div class="absolute bottom-20 left-4 product-tag rounded-full px-3 py-1 text-xs cursor-pointer" onclick="viewLinkedProducts(this)">
                                <i class="fas fa-music mr-1"></i>
                                Guitar Session - â‚±50/song
                            </div>
                        </div>
                        
                        <div class="absolute right-4 bottom-24 flex flex-col space-y-4">
                            <div class="text-center">
                                <button class="action-btn p-3 rounded-full hover:scale-105 transition-all brush-btn" onclick="toggleBrush(this)">
                                    <i class="fas fa-paint-brush text-xl brush-icon"></i>
                                </button>
                                <div class="text-xs text-gray-400 brush-count">5.7K</div>
                            </div>
                            
                            <div class="text-center">
                                <button class="action-btn p-3 rounded-full hover:scale-105 transition-all comment-btn" onclick="toggleComments(this)">
                                    <i class="fas fa-comment text-xl"></i>
                                </button>
                                <div class="text-xs text-gray-400 comment-count">234</div>
                            </div>
                            
                            <div class="text-center">
                                <button class="action-btn p-3 rounded-full hover:scale-105 transition-all share-btn" onclick="shareVideo(this)">
                                    <i class="fas fa-share text-xl"></i>
                                </button>
                                <div class="text-xs text-gray-400">Share</div>
                            </div>

                            <!-- Tip Button for Busking -->
                            <div class="text-center">
                                <button class="action-btn p-3 rounded-full hover:scale-105 transition-all tip-btn" onclick="showTipModal(this)">
                                    <i class="fas fa-coins text-xl text-yellow-400"></i>
                                </button>
                                <div class="text-xs text-gray-400">Tip</div>
                            </div>
                        </div>
                        
                        <div class="absolute bottom-4 left-4 right-20">
                            <div class="flex items-center justify-between mb-2">
                                <div class="flex items-center space-x-3">
                                    <img src="https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=50&h=50&fit=crop" 
                                         alt="Musician" class="w-10 h-10 rounded-full">
                                    <div>
                                        <div class="font-semibold">@guitar_master</div>
                                        <div class="text-sm text-gray-400">Street Musician</div>
                                    </div>
                                </div>
                                <button class="follow-btn px-4 py-2 rounded-full text-sm font-medium">
                                    Follow
                                </button>
                            </div>
                            <p class="text-sm text-gray-300">Live guitar session! Request your favorite songs ðŸŽ¸ #music #live #guitar</p>
                            
                            <!-- Comments Section (Hidden by default) -->
                            <div class="comments-section hidden mt-4 rounded-lg p-4">
                                <div class="max-h-40 overflow-y-auto space-y-2 mb-3">
                                    <div class="flex items-start space-x-2">
                                        <img src="https://images.pexels.com/photos/1040881/pexels-photo-1040881.jpeg?auto=compress&cs=tinysrgb&w=30&h=30&fit=crop" alt="User" class="w-6 h-6 rounded-full">
                                        <div>
                                            <span class="text-white text-sm font-medium">@fan1</span>
                                            <p class="text-gray-300 text-sm">Great performance! ðŸŽ¸</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <input type="text" placeholder="Add a comment..." class="flex-1 bg-gray-700 text-white px-3 py-2 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-pink-500">
                                    <button class="bg-pink-500 text-white px-4 py-2 rounded-full text-sm hover:bg-pink-600 transition-colors">Post</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Shop Tab Content -->
            <div id="shop-content" class="tab-content hidden">
                <!-- Top Navigation -->
                <div class="flex justify-center space-x-4 px-4 mb-6">
                    <button class="top-nav-item px-4 py-2 rounded-full text-sm font-medium hover:scale-105 transition-all">
                        <i class="fas fa-ticket-alt mr-2"></i>Voucher
                    </button>
                    <button class="top-nav-item px-4 py-2 rounded-full text-sm font-medium hover:scale-105 transition-all">
                        <i class="fas fa-box mr-2"></i>Orders
                    </button>
                    <button class="top-nav-item px-4 py-2 rounded-full text-sm font-medium hover:scale-105 transition-all">
                        <i class="fas fa-credit-card mr-2"></i>Payment
                    </button>
                </div>

                <!-- Shop Tabs -->
                <div class="flex justify-center mb-6">
                    <div class="flex bg-gray-800 rounded-full p-1">
                        <button id="marketplace-tab" class="tab-active px-6 py-2 rounded-full text-sm font-medium transition-all">
                            Marketplace
                        </button>
                        <button id="myshop-tab" class="tab-inactive px-6 py-2 rounded-full text-sm font-medium transition-all">
                            My Shop
                        </button>
                    </div>
                </div>

                <!-- Search Bar -->
                <div class="px-4 mb-6">
                    <div class="relative">
                        <input type="text" placeholder="Search products..." 
                               class="w-full bg-gray-800 border border-gray-700 rounded-full px-4 py-3 pl-12 text-white placeholder-gray-400 focus:outline-none focus:border-purple-500">
                        <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>

                <!-- Marketplace Content -->
                <div id="marketplace-content" class="shop-tab-content">
                    <!-- Categories -->
                    <div class="px-4 mb-6">
                        <div class="flex space-x-2 overflow-x-auto pb-2">
                            <button class="category-btn bg-purple-600 text-white px-4 py-2 rounded-full text-sm whitespace-nowrap" data-category="all">All</button>
                            <button class="category-btn bg-gray-700 text-gray-300 px-4 py-2 rounded-full text-sm whitespace-nowrap" data-category="digital-art">Digital Art</button>
                            <button class="category-btn bg-gray-700 text-gray-300 px-4 py-2 rounded-full text-sm whitespace-nowrap" data-category="painting">Painting</button>
                            <button class="category-btn bg-gray-700 text-gray-300 px-4 py-2 rounded-full text-sm whitespace-nowrap" data-category="sculptures">Sculptures</button>
                            <button class="category-btn bg-gray-700 text-gray-300 px-4 py-2 rounded-full text-sm whitespace-nowrap" data-category="busking">Busking</button>
                            <button class="category-btn bg-gray-700 text-gray-300 px-4 py-2 rounded-full text-sm whitespace-nowrap" data-category="art-materials">Art Materials</button>
                            <div class="relative">
                                <button class="category-btn bg-gray-700 text-gray-300 px-4 py-2 rounded-full text-sm whitespace-nowrap flex items-center space-x-2" data-category="services" onclick="toggleServicesDropdown()">
                                    <span>Services</span>
                                    <i class="fas fa-chevron-down text-sm"></i>
                                </button>
                                <div id="servicesDropdown" class="absolute top-full left-0 mt-2 services-dropdown rounded-lg shadow-lg z-10 min-w-48 hidden">
                                    <button class="service-subcategory w-full text-left px-4 py-2 text-white hover:bg-gray-700 rounded-t-lg" data-subcategory="art-class">Art Class</button>
                                    <button class="service-subcategory w-full text-left px-4 py-2 text-white hover:bg-gray-700" data-subcategory="voice-lesson">Voice Lesson</button>
                                    <button class="service-subcategory w-full text-left px-4 py-2 text-white hover:bg-gray-700" data-subcategory="piano-lesson">Piano Lesson</button>
                                    <button class="service-subcategory w-full text-left px-4 py-2 text-white hover:bg-gray-700" data-subcategory="guitar-lesson">Guitar Lesson</button>
                                    <button class="service-subcategory w-full text-left px-4 py-2 text-white hover:bg-gray-700" data-subcategory="violin-lesson">Violin Lesson</button>
                                    <button class="service-subcategory w-full text-left px-4 py-2 text-white hover:bg-gray-700" data-subcategory="drum-lesson">Drum Lesson</button>
                                    <button class="service-subcategory w-full text-left px-4 py-2 text-white hover:bg-gray-700" data-subcategory="saxophone-lesson">Saxophone Lesson</button>
                                    <button class="service-subcategory w-full text-left px-4 py-2 text-white hover:bg-gray-700" data-subcategory="graphic-design">Graphic Design</button>
                                    <button class="service-subcategory w-full text-left px-4 py-2 text-white hover:bg-gray-700" data-subcategory="commissions">Commissions</button>
                                    <button class="service-subcategory w-full text-left px-4 py-2 text-white hover:bg-gray-700" data-subcategory="tattoo">Tattoo</button>
                                    <button class="service-subcategory w-full text-left px-4 py-2 text-white hover:bg-gray-700 rounded-b-lg" data-subcategory="makeup">Make Up</button>
                                </div>
                            </div>
                            <button class="category-btn bg-gray-700 text-gray-300 px-4 py-2 rounded-full text-sm whitespace-nowrap" data-category="instruments">Musical Instruments</button>
                        </div>
                    </div>

                    <!-- Products Grid -->
                    <div class="px-4 grid grid-cols-2 gap-4">
                        <!-- Product Card 1 -->
                        <div class="bg-gray-900 rounded-xl overflow-hidden product-card" data-category="digital-art">
                            <div class="aspect-square bg-gradient-to-br from-purple-600 to-pink-600 relative">
                                <img src="https://images.pexels.com/photos/1266808/pexels-photo-1266808.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop" 
                                     alt="Digital Art" class="w-full h-full object-cover">
                                <div class="absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs">
                                    <i class="fas fa-gavel mr-1"></i>Auction
                                </div>
                            </div>
                            <div class="p-3">
                                <h3 class="font-semibold text-sm mb-1">Digital Portrait NFT</h3>
                                <p class="text-gray-400 text-xs mb-2">by @artista_maya</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-purple-400 font-bold">â‚±12,500.00</span>
                                    <span class="text-xs text-gray-500">23 bids</span>
                                </div>
                                <div class="flex space-x-2">
                                    <button class="buy-btn flex-1 py-2 rounded-lg text-sm font-medium">
                                        <i class="fas fa-shopping-cart mr-1"></i>Buy Now
                                    </button>
                                    <button class="bg-gray-700 px-3 py-2 rounded-lg" onclick="openChat()">
                                        <i class="fas fa-comment text-sm"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Product Card 2 -->
                        <div class="bg-gray-900 rounded-xl overflow-hidden product-card" data-category="painting">
                            <div class="aspect-square bg-gradient-to-br from-blue-600 to-teal-600 relative">
                                <img src="https://images.pexels.com/photos/1183992/pexels-photo-1183992.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop" 
                                     alt="Oil Painting" class="w-full h-full object-cover">
                                <div class="absolute top-2 right-2 bg-blue-500 text-white px-2 py-1 rounded-full text-xs">
                                    Fixed Price
                                </div>
                            </div>
                            <div class="p-3">
                                <h3 class="font-semibold text-sm mb-1">Oil Painting - Sunset</h3>
                                <p class="text-gray-400 text-xs mb-2">by @painter_pro</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-purple-400 font-bold">â‚±8,500.00</span>
                                    <span class="text-xs text-green-500">In Stock</span>
                                </div>
                                <div class="flex space-x-2">
                                    <button class="buy-btn flex-1 py-2 rounded-lg text-sm font-medium">
                                        <i class="fas fa-shopping-cart mr-1"></i>Buy Now
                                    </button>
                                    <button class="bg-gray-700 px-3 py-2 rounded-lg" onclick="openChat()">
                                        <i class="fas fa-comment text-sm"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Busking Service -->
                        <div class="bg-gray-900 rounded-xl overflow-hidden product-card" data-category="busking">
                            <div class="aspect-square bg-gradient-to-br from-yellow-600 to-orange-600 relative">
                                <img src="https://images.pexels.com/photos/1407322/pexels-photo-1407322.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop" 
                                     alt="Street Guitar Performance" class="w-full h-full object-cover">
                                <div class="absolute top-2 right-2 live-badge px-2 py-1 rounded-full text-xs">
                                    <i class="fas fa-circle text-xs mr-1"></i>LIVE
                                </div>
                            </div>
                            <div class="p-3">
                                <h3 class="font-semibold text-sm mb-1">Street Guitar Performance</h3>
                                <p class="text-gray-400 text-xs mb-2">by @guitar_master</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-purple-400 font-bold">â‚±50/song</span>
                                    <span class="text-xs text-yellow-500">Busking</span>
                                </div>
                                <div class="flex space-x-2">
                                    <button class="buy-btn flex-1 py-2 rounded-lg text-sm font-medium">
                                        <i class="fas fa-video mr-1"></i>Join Live
                                    </button>
                                    <button class="bg-gray-700 px-3 py-2 rounded-lg" onclick="openChat()">
                                        <i class="fas fa-comment text-sm"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Service Cards -->
                        <div class="bg-gray-900 rounded-xl overflow-hidden product-card" data-category="services" data-subcategory="graphic-design">
                            <div class="aspect-square bg-gradient-to-br from-indigo-600 to-purple-600 relative">
                                <img src="https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop" 
                                     alt="Graphic Design Service" class="w-full h-full object-cover">
                            </div>
                            <div class="p-3">
                                <h3 class="font-semibold text-sm mb-1">Logo & Brand Design</h3>
                                <p class="text-gray-400 text-xs mb-2">by @designer_pro</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-purple-400 font-bold">â‚±2,500.00</span>
                                    <span class="text-xs text-green-500">Available</span>
                                </div>
                                <div class="flex space-x-2">
                                    <button class="buy-btn flex-1 py-2 rounded-lg text-sm font-medium">
                                        <i class="fas fa-shopping-cart mr-1"></i>Buy Now
                                    </button>
                                    <button class="bg-gray-700 px-3 py-2 rounded-lg" onclick="openChat()">
                                        <i class="fas fa-comment text-sm"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-900 rounded-xl overflow-hidden product-card" data-category="services" data-subcategory="commissions">
                            <div class="aspect-square bg-gradient-to-br from-pink-600 to-red-600 relative">
                                <img src="https://images.pexels.com/photos/1266808/pexels-photo-1266808.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop" 
                                     alt="Art Commission" class="w-full h-full object-cover">
                            </div>
                            <div class="p-3">
                                <h3 class="font-semibold text-sm mb-1">Custom Portrait Commission</h3>
                                <p class="text-gray-400 text-xs mb-2">by @portrait_artist</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-purple-400 font-bold">â‚±3,500.00</span>
                                    <span class="text-xs text-green-500">Available</span>
                                </div>
                                <div class="flex space-x-2">
                                    <button class="buy-btn flex-1 py-2 rounded-lg text-sm font-medium">
                                        <i class="fas fa-shopping-cart mr-1"></i>Buy Now
                                    </button>
                                    <button class="bg-gray-700 px-3 py-2 rounded-lg" onclick="openChat()">
                                        <i class="fas fa-comment text-sm"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gray-900 rounded-xl overflow-hidden product-card" data-category="services" data-subcategory="tattoo">
                            <div class="aspect-square bg-gradient-to-br from-gray-600 to-black relative">
                                <img src="https://images.pexels.com/photos/1319460/pexels-photo-1319460.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop" 
                                     alt="Tattoo Service" class="w-full h-full object-cover">
                            </div>
                            <div class="p-3">
                                <h3 class="font-semibold text-sm mb-1">Custom Tattoo Design</h3>
                                <p class="text-gray-400 text-xs mb-2">by @ink_master</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-purple-400 font-bold">â‚±5,000.00</span>
                                    <span class="text-xs text-green-500">Available</span>
                                </div>
                                <div class="flex space-x-2">
                                    <button class="buy-btn flex-1 py-2 rounded-lg text-sm font-medium">
                                        <i class="fas fa-shopping-cart mr-1"></i>Buy Now
                                    </button>
                                    <button class="bg-gray-700 px-3 py-2 rounded-lg" onclick="openChat()">
                                        <i class="fas fa-comment text-sm"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- My Shop Content -->
                <div id="myshop-content" class="shop-tab-content hidden">
                    <!-- Shop Stats -->
                    <div class="px-4 mb-6">
                        <div class="bg-gray-900 rounded-xl p-4">
                            <div class="flex items-center justify-between mb-4">
                                <h2 class="text-lg font-bold">My Shop Dashboard</h2>
                                <div class="text-right">
                                    <div class="text-2xl font-bold text-green-400">â‚±8,750.50</div>
                                    <div class="text-xs text-gray-400">Available Balance</div>
                                </div>
                            </div>
                            <div class="grid grid-cols-3 gap-4 text-center">
                                <div>
                                    <div class="text-xl font-bold text-purple-400 stat-number">47</div>
                                    <div class="text-xs text-gray-400">Products</div>
                                </div>
                                <div>
                                    <div class="text-xl font-bold text-blue-400">156</div>
                                    <div class="text-xs text-gray-400">Orders</div>
                                </div>
                                <div>
                                    <div class="text-xl font-bold text-green-400">â‚±12,450</div>
                                    <div class="text-xs text-gray-400">Total Sales</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="px-4 mb-6">
                        <div class="grid grid-cols-2 gap-4">
                            <button onclick="openAddProductModal()" class="bg-gradient-to-r from-purple-600 to-blue-600 p-4 rounded-xl text-center">
                                <i class="fas fa-plus text-2xl mb-2"></i>
                                <div class="font-semibold">Add Product</div>
                            </button>
                            <button class="bg-gray-800 p-4 rounded-xl text-center">
                                <i class="fas fa-chart-line text-2xl mb-2"></i>
                                <div class="font-semibold">Analytics</div>
                            </button>
                        </div>
                    </div>

                    <!-- My Products Grid -->
                    <div class="px-4 mb-6">
                        <div class="products-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 15px; min-height: 200px;">
                            <!-- Sample user products -->
                            <div class="product-card" style="background: #1a1a1a; border-radius: 12px; overflow: hidden; border: 1px solid #333;">
                                <div style="position: relative;">
                                    <img src="https://images.pexels.com/photos/1266808/pexels-photo-1266808.jpeg?auto=compress&cs=tinysrgb&w=300&h=300&fit=crop" 
                                         alt="My Digital Art" style="width: 100%; height: 120px; object-fit: cover;">
                                    <div style="position: absolute; top: 8px; right: 8px; background: rgba(0,0,0,0.7); border-radius: 12px; padding: 4px 8px;">
                                        <span style="color: white; font-size: 10px; font-weight: bold;">SOLD</span>
                                    </div>
                                </div>
                                <div style="padding: 12px;">
                                    <h4 style="color: white; font-size: 14px; margin: 0 0 8px 0; font-weight: 600;">My Digital Portrait</h4>
                                    <p style="color: #ff6b6b; font-size: 16px; font-weight: bold; margin: 0 0 8px 0;">â‚±15,000</p>
                                    <div style="display: flex; gap: 6px;">
                                        <button style="flex: 1; padding: 8px; border: none; border-radius: 6px; background: #333; color: white; font-size: 11px; cursor: pointer;">Edit</button>
                                        <button style="padding: 8px; border: 1px solid #333; border-radius: 6px; background: transparent; color: white; font-size: 11px; cursor: pointer;">ðŸ“Š</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Wallet & Payments -->
                    <div class="px-4 mb-6">
                        <div class="bg-gray-900 rounded-xl p-4">
                            <h3 class="font-bold mb-4">Payment Methods</h3>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <i class="fab fa-paypal text-blue-500 text-xl"></i>
                                        <span>PayPal</span>
                                    </div>
                                    <span class="bg-blue-500 text-white px-2 py-1 rounded-full text-xs">Connected</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <i class="fas fa-mobile-alt text-blue-500 text-xl"></i>
                                        <span>GCash</span>
                                    </div>
                                    <button class="bg-gray-600 text-white px-3 py-1 rounded-full text-xs">Setup</button>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                                    <div class="flex items-center space-x-3">
                                        <i class="fab fa-bitcoin text-green-500 text-xl"></i>
                                        <span>USDT</span>
                                    </div>
                                    <button class="bg-gray-600 text-white px-3 py-1 rounded-full text-xs">Setup</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Logistics -->
                    <div class="px-4 mb-6">
                        <div class="bg-gray-900 rounded-xl p-4">
                            <h3 class="font-bold mb-4">Shipping Partners</h3>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                                    <div>
                                        <div class="font-semibold">LBC Express</div>
                                        <div class="text-xs text-gray-400">â‚±85 - â‚±150</div>
                                    </div>
                                    <span class="bg-green-500 text-white px-2 py-1 rounded-full text-xs">Active</span>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-gray-800 rounded-lg">
                                    <div>
                                        <div class="font-semibold">J&T Express</div>
                                        <div class="text-xs text-gray-400">â‚±65 - â‚±120</div>
                                    </div>
                                    <button class="bg-gray-600 text-white px-3 py-1 rounded-full text-xs">Setup</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add Product Modal -->
            <div id="addProductModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; align-items: center; justify-content: center;">
                <div style="background: #1a1a1a; border-radius: 12px; padding: 24px; width: 90%; max-width: 400px; border: 1px solid #333;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3 style="color: white; margin: 0;">Add New Product</h3>
                        <button onclick="closeAddProductModal()" style="background: none; border: none; color: #888; font-size: 24px; cursor: pointer;">&times;</button>
                    </div>
                    
                    <form id="addProductForm" style="display: flex; flex-direction: column; gap: 16px;">
                        <div>
                            <label style="color: #888; font-size: 12px; display: block; margin-bottom: 4px;">Product Title *</label>
                            <input type="text" id="productTitle" required style="width: 100%; padding: 12px; border: 1px solid #333; border-radius: 6px; background: #2a2a2a; color: white; font-size: 14px;">
                        </div>
                        
                        <div>
                            <label style="color: #888; font-size: 12px; display: block; margin-bottom: 4px;">Price (â‚±) *</label>
                            <input type="number" id="productPrice" required min="0" step="0.01" style="width: 100%; padding: 12px; border: 1px solid #333; border-radius: 6px; background: #2a2a2a; color: white; font-size: 14px;">
                        </div>
                        
                        <div>
                            <label style="color: #888; font-size: 12px; display: block; margin-bottom: 4px;">Category *</label>
                            <select id="productCategory" required style="width: 100%; padding: 12px; border: 1px solid #333; border-radius: 6px; background: #2a2a2a; color: white; font-size: 14px;">
                                <option value="">Select Category</option>
                                <option value="digital-art">Digital Art</option>
                                <option value="music">Music</option>
                                <option value="services">Services</option>
                                <option value="instruments">Instruments</option>
                                <option value="painting">Painting</option>
                                <option value="sculptures">Sculptures</option>
                                <option value="art-materials">Art Materials</option>
                                <option value="busking">Busking</option>
                            </select>
                        </div>
                        
                        <div>
                            <label style="color: #888; font-size: 12px; display: block; margin-bottom: 4px;">Product Image</label>
                            <input type="file" id="productImage" accept="image/*" style="width: 100%; padding: 12px; border: 1px solid #333; border-radius: 6px; background: #2a2a2a; color: white; font-size: 14px;">
                        </div>
                        
                        <div>
                            <label style="color: #888; font-size: 12px; display: block; margin-bottom: 4px;">Description</label>
                            <textarea id="productDescription" rows="3" style="width: 100%; padding: 12px; border: 1px solid #333; border-radius: 6px; background: #2a2a2a; color: white; font-size: 14px; resize: vertical;"></textarea>
                        </div>
                        
                        <div style="display: flex; gap: 12px; margin-top: 8px;">
                            <button type="button" onclick="closeAddProductModal()" style="flex: 1; padding: 12px; border: 1px solid #333; border-radius: 6px; background: transparent; color: white; cursor: pointer;">Cancel</button>
                            <button type="button" onclick="addProduct()" style="flex: 1; padding: 12px; border: none; border-radius: 6px; background: linear-gradient(45deg, #ff6b6b, #4ecdc4); color: white; font-weight: bold; cursor: pointer;">Add Product</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Create Tab Content -->
            <div id="create-content" class="tab-content hidden">
                <div class="max-w-md mx-auto px-4">
                    <div class="bg-gray-900 rounded-2xl p-6 text-center">
                        <div class="w-20 h-20 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-plus text-3xl"></i>
                        </div>
                        <h2 class="text-xl font-bold mb-2">Create Content</h2>
                        <p class="text-gray-400 mb-6">Share your art with the world</p>
                        
                        <div class="space-y-4">
                            <button class="w-full bg-gradient-to-r from-purple-600 to-pink-600 py-3 rounded-xl font-semibold" onclick="startRecording()">
                                <i class="fas fa-video mr-2"></i>Camera
                            </button>
                            <button class="w-full bg-gray-800 py-3 rounded-xl font-semibold" onclick="uploadVideo()">
                                <i class="fas fa-image mr-2"></i>Gallery
                            </button>
                            <button class="w-full bg-gray-800 py-3 rounded-xl font-semibold" onclick="goLive()">
                                <i class="fas fa-broadcast-tower mr-2"></i>Go Live
                            </button>
                        </div>

                        <!-- Product Linking Section -->
                        <div class="mt-6 p-4 bg-gray-800 rounded-xl">
                            <h3 class="font-semibold mb-3">Tag Products</h3>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between p-2 bg-gray-700 rounded-lg">
                                    <div class="flex items-center space-x-2">
                                        <img src="https://images.pexels.com/photos/1266808/pexels-photo-1266808.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop" 
                                             alt="Product" class="w-8 h-8 rounded">
                                        <div>
                                            <div class="text-sm font-medium">Digital Portrait NFT</div>
                                            <div class="text-xs text-gray-400">â‚±12,500.00</div>
                                        </div>
                                    </div>
                                    <button class="bg-purple-600 px-3 py-1 rounded-full text-xs">Tag</button>
                                </div>
                                <div class="flex items-center justify-between p-2 bg-gray-700 rounded-lg">
                                    <div class="flex items-center space-x-2">
                                        <img src="https://images.pexels.com/photos/1183992/pexels-photo-1183992.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop" 
                                             alt="Product" class="w-8 h-8 rounded">
                                        <div>
                                            <div class="text-sm font-medium">Oil Painting - Sunset</div>
                                            <div class="text-xs text-gray-400">â‚±8,500.00</div>
                                        </div>
                                    </div>
                                    <button class="bg-gray-600 px-3 py-1 rounded-full text-xs">Tag</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Notifications Tab Content -->
            <div id="notifications-content" class="tab-content hidden">
                <div class="max-w-md mx-auto px-4">
                    <h2 class="text-xl font-bold mb-6">Notifications</h2>
                    
                    <div class="space-y-4">
                        <div class="bg-gray-900 rounded-xl p-4">
                            <div class="flex items-start space-x-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center">
                                    <i class="fas fa-paint-brush text-sm"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm"><span class="font-semibold">@artlover23</span> liked your painting</p>
                                    <p class="text-xs text-gray-400">2 minutes ago</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-900 rounded-xl p-4">
                            <div class="flex items-start space-x-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-green-600 to-teal-600 rounded-full flex items-center justify-center">
                                    <i class="fas fa-gavel text-sm"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm">New bid on your <span class="font-semibold">Digital Portrait NFT</span></p>
                                    <p class="text-xs text-gray-400">5 minutes ago</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-900 rounded-xl p-4">
                            <div class="flex items-start space-x-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center">
                                    <i class="fas fa-user-plus text-sm"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm"><span class="font-semibold">@newartist</span> started following you</p>
                                    <p class="text-xs text-gray-400">1 hour ago</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-900 rounded-xl p-4">
                            <div class="flex items-start space-x-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-yellow-600 to-orange-600 rounded-full flex items-center justify-center">
                                    <i class="fas fa-dollar-sign text-sm"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm">Affiliate commission earned: <span class="font-semibold text-green-400">â‚±125.00</span></p>
                                    <p class="text-xs text-gray-400">3 hours ago</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Tab Content -->
            <div id="profile-content" class="tab-content hidden">
                <div class="max-w-md mx-auto px-4">
                    <!-- Profile Header -->
                    <div class="text-center mb-6">
                        <img src="https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&fit=crop" 
                             alt="Profile" class="w-20 h-20 rounded-full mx-auto mb-4">
                        <h2 class="text-xl font-bold">@artista_maya</h2>
                        <p class="text-gray-400">Digital Artist & Creator</p>
                        
                        <div class="flex justify-center space-x-8 mt-4">
                            <div class="text-center">
                                <div class="font-bold">47</div>
                                <div class="text-xs text-gray-400">Posts</div>
                            </div>
                            <div class="text-center">
                                <div class="font-bold">2.1K</div>
                                <div class="text-xs text-gray-400">Followers</div>
                            </div>
                            <div class="text-center">
                                <div class="font-bold">892</div>
                                <div class="text-xs text-gray-400">Following</div>
                            </div>
                        </div>
                    </div>

                    <!-- Profile Tabs -->
                    <div class="flex justify-center mb-6">
                        <div class="flex bg-gray-800 rounded-full p-1">
                            <button id="videos-tab" class="tab-active px-4 py-2 rounded-full text-sm font-medium">
                                <i class="fas fa-video mr-1"></i>Videos
                            </button>
                            <button id="liked-tab" class="tab-inactive px-4 py-2 rounded-full text-sm font-medium">
                                <i class="fas fa-heart mr-1"></i>Liked
                            </button>
                            <button id="bookmarks-tab" class="tab-inactive px-4 py-2 rounded-full text-sm font-medium">
                                <i class="fas fa-bookmark mr-1"></i>Saved
                            </button>
                        </div>
                    </div>

                    <!-- Videos Grid -->
                    <div id="videos-grid" class="grid grid-cols-3 gap-1 mb-6">
                        <div class="aspect-[9/16] bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg relative">
                            <i class="fas fa-play absolute inset-0 flex items-center justify-center text-2xl text-white/70"></i>
                            <div class="absolute bottom-1 left-1 text-xs">2.1K</div>
                        </div>
                        <div class="aspect-[9/16] bg-gradient-to-br from-blue-600 to-teal-600 rounded-lg relative">
                            <i class="fas fa-play absolute inset-0 flex items-center justify-center text-2xl text-white/70"></i>
                            <div class="absolute bottom-1 left-1 text-xs">5.7K</div>
                        </div>
                        <div class="aspect-[9/16] bg-gradient-to-br from-green-600 to-yellow-600 rounded-lg relative">
                            <i class="fas fa-play absolute inset-0 flex items-center justify-center text-2xl text-white/70"></i>
                            <div class="absolute bottom-1 left-1 text-xs">892</div>
                        </div>
                        <div class="aspect-[9/16] bg-gradient-to-br from-red-600 to-pink-600 rounded-lg relative">
                            <i class="fas fa-play absolute inset-0 flex items-center justify-center text-2xl text-white/70"></i>
                            <div class="absolute bottom-1 left-1 text-xs">1.3K</div>
                        </div>
                        <div class="aspect-[9/16] bg-gradient-to-br from-indigo-600 to-purple-600 rounded-lg relative">
                            <i class="fas fa-play absolute inset-0 flex items-center justify-center text-2xl text-white/70"></i>
                            <div class="absolute bottom-1 left-1 text-xs">3.2K</div>
                        </div>
                        <div class="aspect-[9/16] bg-gradient-to-br from-pink-600 to-red-600 rounded-lg relative">
                            <i class="fas fa-play absolute inset-0 flex items-center justify-center text-2xl text-white/70"></i>
                            <div class="absolute bottom-1 left-1 text-xs">756</div>
                        </div>
                    </div>

                    <!-- Boost Section -->
                    <div class="bg-gray-900 rounded-xl p-4 mb-4">
                        <h3 class="font-bold mb-2">Boost Your Content</h3>
                        <p class="text-gray-400 text-sm mb-4">Increase your reach and get more views</p>
                        <div class="flex items-center justify-between">
                            <span class="text-sm">Starting at <span class="font-bold text-green-400">â‚±49</span></span>
                            <button class="boost-btn px-4 py-2 rounded-lg text-sm font-medium">
                                <i class="fas fa-rocket mr-1"></i>Boost Now
                            </button>
                        </div>
                    </div>

                    <!-- Chat Support -->
                    <div class="bg-gray-900 rounded-xl p-4">
                        <button class="w-full flex items-center justify-center space-x-2 py-3 bg-gray-800 rounded-lg">
                            <i class="fas fa-headset"></i>
                            <span>Chat Support</span>
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="fixed bottom-0 left-0 right-0 bg-black/90 backdrop-blur-md border-t border-gray-800">
            <div class="flex items-center justify-around py-2">
                <button class="nav-btn flex flex-col items-center py-2 px-4 text-white" data-tab="home">
                    <i class="fas fa-home text-xl mb-1"></i>
                    <span class="text-xs">Home</span>
                </button>
                <button class="nav-btn flex flex-col items-center py-2 px-4 text-gray-400" data-tab="shop">
                    <i class="fas fa-store text-xl mb-1"></i>
                    <span class="text-xs">Shop</span>
                </button>
                <button class="nav-btn flex flex-col items-center py-2 px-4 text-gray-400" data-tab="create">
                    <div class="w-8 h-8 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg flex items-center justify-center mb-1">
                        <i class="fas fa-plus text-sm"></i>
                    </div>
                    <span class="text-xs">Create</span>
                </button>
                <button class="nav-btn flex flex-col items-center py-2 px-4 text-gray-400" data-tab="notifications">
                    <i class="fas fa-bell text-xl mb-1"></i>
                    <span class="text-xs">Notifications</span>
                </button>
                <button class="nav-btn flex flex-col items-center py-2 px-4 text-gray-400" data-tab="profile">
                    <i class="fas fa-user text-xl mb-1"></i>
                    <span class="text-xs">Profile</span>
                </button>
            </div>
        </nav>

        <!-- Camera Recording Modal -->
        <div id="cameraModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden">
            <div class="camera-modal">
                <div class="camera-header">
                    <button class="close-camera" onclick="closeCameraModal()">&times;</button>
                    <h3>Record Video</h3>
                    <button class="camera-flip" onclick="flipCamera()">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
                <div class="camera-container">
                    <video id="cameraPreview" autoplay muted playsinline></video>
                    <canvas id="recordingCanvas" style="display: none;"></canvas>
                </div>
                <div class="camera-controls">
                    <div class="recording-timer" id="recordingTimer" style="display: none;">00:00</div>
                    <div class="camera-buttons">
                        <button class="record-btn" id="recordBtn" onclick="toggleRecording()">
                            <div class="record-circle"></div>
                        </button>
                    </div>
                    <div class="camera-actions">
                        <button class="camera-action" onclick="addEffect()">
                            <i class="fas fa-magic"></i>
                        </button>
                        <button class="camera-action" onclick="addMusic()">
                            <i class="fas fa-music"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gallery Upload Modal -->
        <div id="galleryModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden">
            <div class="absolute bottom-0 left-0 right-0 bg-gray-900 rounded-t-2xl max-h-[80vh] overflow-hidden">
                <div class="flex items-center justify-between p-4 border-b border-gray-700">
                    <h3>Upload from Gallery</h3>
                    <span class="close cursor-pointer text-2xl" onclick="closeGalleryModal()">&times;</span>
                </div>
                <div class="upload-area" onclick="document.getElementById('videoUpload').click()">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <p>Tap to select video from gallery</p>
                    <small>MP4, MOV, AVI up to 100MB</small>
                </div>
                <input type="file" id="videoUpload" accept="video/*" style="display: none;" onchange="handleVideoUpload(event)">
                <div id="uploadPreview" style="display: none;">
                    <video id="uploadedVideo" controls style="width: 100%; max-height: 300px;"></video>
                    <div class="upload-actions">
                        <button class="bg-gray-600 px-4 py-2 rounded-lg" onclick="closeGalleryModal()">Cancel</button>
                        <button class="bg-purple-600 px-4 py-2 rounded-lg" onclick="processUploadedVideo()">Next</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chat Modal -->
        <div id="chat-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden">
            <div class="absolute bottom-0 left-0 right-0 bg-gray-900 rounded-t-2xl max-h-[80vh] overflow-hidden">
                <div class="flex items-center justify-between p-4 border-b border-gray-700">
                    <div class="flex items-center space-x-3">
                        <img src="https://images.pexels.com/photos/1043471/pexels-photo-1043471.jpeg?auto=compress&cs=tinysrgb&w=40&h=40&fit=crop" 
                             alt="Seller" class="w-8 h-8 rounded-full">
                        <div>
                            <div class="font-semibold text-sm">@guitar_master</div>
                            <div class="text-xs text-gray-400">Online</div>
                        </div>
                    </div>
                    <button id="close-chat" class="text-gray-400 hover:text-white">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="p-4 h-64 overflow-y-auto space-y-3">
                    <div class="flex justify-start">
                        <div class="bg-gray-800 rounded-2xl rounded-bl-md px-4 py-2 max-w-xs">
                            <p class="text-sm">Hi! Interested in the guitar lesson?</p>
                        </div>
                    </div>
                    <div class="flex justify-end">
                        <div class="bg-purple-600 rounded-2xl rounded-br-md px-4 py-2 max-w-xs">
                            <p class="text-sm">Yes! What's included in the session?</p>
                        </div>
                    </div>
                    <div class="flex justify-start">
                        <div class="bg-gray-800 rounded-2xl rounded-bl-md px-4 py-2 max-w-xs">
                            <p class="text-sm">I teach basic chords, strumming patterns, and can help with specific songs. â‚±500 per hour!</p>
                        </div>
                    </div>
                </div>
                
                <div class="p-4 border-t border-gray-700">
                    <div class="flex space-x-2">
                        <input type="text" placeholder="Type a message..." 
                               class="flex-1 bg-gray-800 border border-gray-700 rounded-full px-4 py-2 text-sm focus:outline-none focus:border-purple-500">
                        <button class="bg-purple-600 p-2 rounded-full">
                            <i class="fas fa-paper-plane text-sm"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tip Modal -->
        <div id="tipModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-gray-800 rounded-lg p-6 w-80">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-white text-lg font-medium">Send Tip</h3>
                    <button onclick="closeTipModal()" class="text-gray-400 hover:text-white">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="space-y-4">
                    <div class="grid grid-cols-3 gap-2">
                        <button class="tip-amount bg-gray-700 text-white py-2 rounded-lg hover:bg-pink-500 transition-colors" data-amount="50">â‚±50</button>
                        <button class="tip-amount bg-gray-700 text-white py-2 rounded-lg hover:bg-pink-500 transition-colors" data-amount="100">â‚±100</button>
                        <button class="tip-amount bg-gray-700 text-white py-2 rounded-lg hover:bg-pink-500 transition-colors" data-amount="200">â‚±200</button>
                    </div>
                    <input type="number" placeholder="Custom amount" class="w-full bg-gray-700 text-white px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500">
                    <button class="w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-2 rounded-lg font-medium hover:from-pink-600 hover:to-purple-700 transition-all">
                        Send Tip
                    </button>
                </div>
            </div>
        </div>

        <!-- Share Modal -->
        <div id="shareModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-gray-800 rounded-lg p-6 w-80">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-white text-lg font-medium">Share Video</h3>
                    <button onclick="closeShareModal()" class="text-gray-400 hover:text-white">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="grid grid-cols-3 gap-4">
                    <button class="flex flex-col items-center space-y-2 p-3 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors">
                        <i class="fab fa-facebook text-blue-500 text-2xl"></i>
                        <span class="text-white text-sm">Facebook</span>
                    </button>
                    <button class="flex flex-col items-center space-y-2 p-3 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors">
                        <i class="fab fa-twitter text-blue-400 text-2xl"></i>
                        <span class="text-white text-sm">Twitter</span>
                    </button>
                    <button class="flex flex-col items-center space-y-2 p-3 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors">
                        <i class="fab fa-instagram text-pink-500 text-2xl"></i>
                        <span class="text-white text-sm">Instagram</span>
                    </button>
                </div>
                <div class="mt-4">
                    <input type="text" value="https://picasso.app/video/123" class="w-full bg-gray-700 text-white px-3 py-2 rounded-lg text-sm" readonly>
                    <button class="w-full mt-2 bg-green-500 text-white py-2 rounded-lg text-sm hover:bg-green-600 transition-colors" onclick="copyLink()">
                        Copy Link
                    </button>
                </div>
            </div>
        </div>

        <!-- Linked Products Modal -->
        <div id="linkedProductsModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-gray-800 rounded-lg p-6 w-96 max-h-96 overflow-y-auto">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-white text-lg font-medium">Linked Products</h3>
                    <button onclick="closeLinkedProductsModal()" class="text-gray-400 hover:text-white">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="space-y-3">
                    <div class="flex items-center space-x-3 bg-gray-700 p-3 rounded-lg">
                        <img src="https://images.pexels.com/photos/1266808/pexels-photo-1266808.jpeg?auto=compress&cs=tinysrgb&w=60&h=60&fit=crop" alt="Product" class="w-12 h-12 rounded-lg object-cover">
                        <div class="flex-1">
                            <h4 class="text-white font-medium text-sm">Digital Art Print</h4>
                            <p class="text-gray-400 text-sm">â‚±1,250.00</p>
                        </div>
                        <button class="bg-pink-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-pink-600 transition-colors">
                            Buy
                        </button>
                    </div>
                    <div class="flex items-center space-x-3 bg-gray-700 p-3 rounded-lg">
                        <img src="https://images.pexels.com/photos/1266808/pexels-photo-1266808.jpeg?auto=compress&cs=tinysrgb&w=60&h=60&fit=crop" alt="Product" class="w-12 h-12 rounded-lg object-cover">
                        <div class="flex-1">
                            <h4 class="text-white font-medium text-sm">Art Supplies Set</h4>
                            <p class="text-gray-400 text-sm">â‚±850.00</p>
                        </div>
                        <button class="bg-pink-500 text-white px-3 py-1 rounded-lg text-sm hover:bg-pink-600 transition-colors">
                            Buy
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab Navigation
        const navButtons = document.querySelectorAll('.nav-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        navButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetTab = button.getAttribute('data-tab');
                
                // Update nav button states
                navButtons.forEach(btn => {
                    if (btn.getAttribute('data-tab') === targetTab) {
                        btn.classList.remove('text-gray-400');
                        btn.classList.add('text-white');
                    } else {
                        btn.classList.remove('text-white');
                        btn.classList.add('text-gray-400');
                    }
                });
                
                // Show/hide tab content
                tabContents.forEach(content => {
                    if (content.id === targetTab + '-content') {
                        content.classList.remove('hidden');
                    } else {
                        content.classList.add('hidden');
                    }
                });
            });
        });

        // Shop Tabs
        const marketplaceTab = document.getElementById('marketplace-tab');
        const myshopTab = document.getElementById('myshop-tab');
        const marketplaceContent = document.getElementById('marketplace-content');
        const myshopContent = document.getElementById('myshop-content');

        marketplaceTab.addEventListener('click', () => {
            marketplaceTab.classList.remove('tab-inactive');
            marketplaceTab.classList.add('tab-active');
            myshopTab.classList.remove('tab-active');
            myshopTab.classList.add('tab-inactive');
            
            marketplaceContent.classList.remove('hidden');
            myshopContent.classList.add('hidden');
        });

        myshopTab.addEventListener('click', () => {
            myshopTab.classList.remove('tab-inactive');
            myshopTab.classList.add('tab-active');
            marketplaceTab.classList.remove('tab-active');
            marketplaceTab.classList.add('tab-inactive');
            
            myshopContent.classList.remove('hidden');
            marketplaceContent.classList.add('hidden');
        });

        // Profile Tabs
        const videosTab = document.getElementById('videos-tab');
        const likedTab = document.getElementById('liked-tab');
        const bookmarksTab = document.getElementById('bookmarks-tab');

        [videosTab, likedTab, bookmarksTab].forEach(tab => {
            tab.addEventListener('click', () => {
                // Reset all tabs
                [videosTab, likedTab, bookmarksTab].forEach(t => {
                    t.classList.remove('tab-active');
                    t.classList.add('tab-inactive');
                });
                
                // Activate clicked tab
                tab.classList.remove('tab-inactive');
                tab.classList.add('tab-active');
            });
        });

        // Category filtering functionality
        const categoryButtons = document.querySelectorAll('.category-btn');
        categoryButtons.forEach(button => {
            button.addEventListener('click', () => {
                const category = button.getAttribute('data-category');
                
                // Don't filter if it's the services button (has dropdown)
                if (category === 'services' && button.onclick) {
                    return;
                }
                
                // Update active button
                categoryButtons.forEach(btn => {
                    btn.classList.remove('bg-purple-600', 'text-white');
                    btn.classList.add('bg-gray-700', 'text-gray-300');
                });
                
                button.classList.remove('bg-gray-700', 'text-gray-300');
                button.classList.add('bg-purple-600', 'text-white');
                
                // Filter products
                const products = document.querySelectorAll('.product-card');
                products.forEach(product => {
                    const productCategory = product.getAttribute('data-category');
                    if (category === 'all' || productCategory === category) {
                        product.style.display = 'block';
                    } else {
                        product.style.display = 'none';
                    }
                });
            });
        });

        // Interactive button functions
        function toggleBrush(element) {
            const countElement = element.closest('.text-center').querySelector('.brush-count');
            const icon = element.querySelector('i');
            let count = parseInt(countElement.textContent.replace('K', '').replace('.', ''));
            
            if (icon.classList.contains('text-pink-500')) {
                // Already liked, unlike
                count--;
                icon.classList.remove('text-pink-500');
                icon.classList.add('text-gray-400');
            } else {
                // Not liked, like
                count++;
                icon.classList.remove('text-gray-400');
                icon.classList.add('text-pink-500');
                // Add animation
                icon.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    icon.style.transform = 'scale(1)';
                }, 200);
            }
            
            // Update count display
            if (count >= 1000) {
                countElement.textContent = (count / 1000).toFixed(1) + 'K';
            } else {
                countElement.textContent = count;
            }
        }

        function toggleComments(element) {
            const videoCard = element.closest('.bg-gray-900');
            const commentsSection = videoCard.querySelector('.comments-section');
            
            if (commentsSection.classList.contains('hidden')) {
                commentsSection.classList.remove('hidden');
            } else {
                commentsSection.classList.add('hidden');
            }
        }

        function shareVideo(element) {
            document.getElementById('shareModal').classList.remove('hidden');
        }

        function closeShareModal() {
            document.getElementById('shareModal').classList.add('hidden');
        }

        function copyLink() {
            const input = document.querySelector('#shareModal input');
            input.select();
            document.execCommand('copy');
            alert('Link copied to clipboard!');
        }

        function showTipModal(element) {
            document.getElementById('tipModal').classList.remove('hidden');
        }

        function closeTipModal() {
            document.getElementById('tipModal').classList.add('hidden');
        }

        function viewLinkedProducts(element) {
            document.getElementById('linkedProductsModal').classList.remove('hidden');
        }

        function closeLinkedProductsModal() {
            document.getElementById('linkedProductsModal').classList.add('hidden');
        }

        // Services dropdown functionality
        function toggleServicesDropdown() {
            const dropdown = document.getElementById('servicesDropdown');
            dropdown.classList.toggle('hidden');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('servicesDropdown');
            const button = event.target.closest('[onclick="toggleServicesDropdown()"]');
            
            if (!button && !dropdown.contains(event.target)) {
                dropdown.classList.add('hidden');
            }
        });

        // Service subcategory filtering
        document.querySelectorAll('.service-subcategory').forEach(button => {
            button.addEventListener('click', function() {
                const subcategory = this.dataset.subcategory;
                const products = document.querySelectorAll('.product-card');
                
                products.forEach(product => {
                    if (product.dataset.subcategory === subcategory || subcategory === 'all') {
                        product.style.display = 'block';
                    } else {
                        product.style.display = 'none';
                    }
                });
                
                // Close dropdown
                document.getElementById('servicesDropdown').classList.add('hidden');
            });
        });

        // Chat Modal
        const chatModal = document.getElementById('chat-modal');
        const closeChatBtn = document.getElementById('close-chat');

        function openChat() {
            chatModal.classList.remove('hidden');
        }

        closeChatBtn.addEventListener('click', () => {
            chatModal.classList.add('hidden');
        });

        chatModal.addEventListener('click', (e) => {
            if (e.target === chatModal) {
                chatModal.classList.add('hidden');
            }
        });

        // Buy Button Actions
        document.querySelectorAll('.buy-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                
                // Create a simple notification
                const notification = document.createElement('div');
                notification.className = 'fixed top-24 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-6 py-3 rounded-full z-50 transition-all';
                notification.innerHTML = '<i class="fas fa-check mr-2"></i>Added to cart!';
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 2000);
            });
        });

        // Follow Button Actions
        document.querySelectorAll('.follow-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.stopPropagation();
                
                if (btn.innerHTML.includes('Follow')) {
                    btn.innerHTML = '<i class="fas fa-check mr-1"></i>Following';
                    btn.classList.add('bg-gray-600');
                    btn.classList.remove('follow-btn');
                } else {
                    btn.innerHTML = '<i class="fas fa-plus mr-1"></i>Follow';
                    btn.classList.remove('bg-gray-600');
                    btn.classList.add('follow-btn');
                }
            });
        });

        // Add Product Modal Functions
        function openAddProductModal() {
            document.getElementById('addProductModal').style.display = 'flex';
        }
        
        function closeAddProductModal() {
            document.getElementById('addProductModal').style.display = 'none';
        }
        
        function addProduct() {
            const title = document.getElementById('productTitle').value;
            const price = document.getElementById('productPrice').value;
            const category = document.getElementById('productCategory').value;
            const description = document.getElementById('productDescription').value;
            const imageFile = document.getElementById('productImage').files[0];
            
            if (!title || !price || !category) {
                alert('Please fill in all required fields');
                return;
            }
            
            // Create new product card
            const productsGrid = document.querySelector('#myshop-content .products-grid');
            const newProduct = document.createElement('div');
            newProduct.className = 'product-card';
            newProduct.setAttribute('data-category', category);
            newProduct.style.cssText = 'background: #1a1a1a; border-radius: 12px; overflow: hidden; border: 1px solid #333;';
            
            // Handle image preview
            let imageHTML = '<div style="width: 100%; height: 120px; background: linear-gradient(45deg, #333, #555); display: flex; align-items: center; justify-content: center; color: #888;"><span>ðŸ“·</span></div>';
            
            if (imageFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    newProduct.querySelector('.product-image').innerHTML = `<img src="${e.target.result}" style="width: 100%; height: 120px; object-fit: cover;">`;
                };
                reader.readAsDataURL(imageFile);
            }
            
            newProduct.innerHTML = `
                <div style="position: relative;" class="product-image">
                    ${imageHTML}
                    <div style="position: absolute; top: 8px; right: 8px; background: rgba(0,0,0,0.7); border-radius: 12px; padding: 4px 8px;">
                        <span style="color: white; font-size: 10px; font-weight: bold;">NEW</span>
                    </div>
                </div>
                <div style="padding: 12px;">
                    <h4 style="color: white; font-size: 14px; margin: 0 0 8px 0; font-weight: 600;">${title}</h4>
                    <p style="color: #ff6b6b; font-size: 16px; font-weight: bold; margin: 0 0 8px 0;">â‚±${parseFloat(price).toLocaleString()}</p>
                    ${description ? `<p style="color: #888; font-size: 11px; margin: 0 0 8px 0;">${description}</p>` : ''}
                    <div style="display: flex; gap: 6px;">
                        <button style="flex: 1; padding: 8px; border: none; border-radius: 6px; background: linear-gradient(45deg, #ff6b6b, #4ecdc4); color: white; font-size: 11px; font-weight: bold; cursor: pointer;">Buy Now</button>
                        <button onclick="openChat()" style="padding: 8px; border: 1px solid #333; border-radius: 6px; background: transparent; color: white; font-size: 11px; cursor: pointer;">ðŸ’¬</button>
                    </div>
                </div>
            `;
            
            productsGrid.appendChild(newProduct);
            
            // Update stats
            const totalProducts = document.querySelectorAll('#myshop-content .product-card').length;
            document.querySelector('#myshop-content .stat-number').textContent = totalProducts;
            
            // Clear form and close modal
            document.getElementById('addProductForm').reset();
            closeAddProductModal();
            
            alert('Product added successfully!');
        }

        // Camera and Video Recording Functions
        let currentUser = 'user123';
        let isRecording = false;
        let mediaRecorder;
        let recordingStream;
        let recordingStartTime;
        let recordingTimer;
        let currentCamera = 'user'; // 'user' for front, 'environment' for back

        function startRecording() {
            document.getElementById('cameraModal').classList.remove('hidden');
            initializeCamera();
        }

        async function initializeCamera() {
            try {
                const constraints = {
                    video: {
                        facingMode: currentCamera,
                        width: { ideal: 1080 },
                        height: { ideal: 1920 }
                    },
                    audio: true
                };

                recordingStream = await navigator.mediaDevices.getUserMedia(constraints);
                const video = document.getElementById('cameraPreview');
                video.srcObject = recordingStream;
            } catch (error) {
                console.error('Error accessing camera:', error);
                alert('Unable to access camera. Please check permissions.');
            }
        }

        function closeCameraModal() {
            if (recordingStream) {
                recordingStream.getTracks().forEach(track => track.stop());
            }
            if (isRecording) {
                stopRecording();
            }
            document.getElementById('cameraModal').classList.add('hidden');
        }

        async function flipCamera() {
            currentCamera = currentCamera === 'user' ? 'environment' : 'user';
            if (recordingStream) {
                recordingStream.getTracks().forEach(track => track.stop());
            }
            await initializeCamera();
        }

        function toggleRecording() {
            if (isRecording) {
                stopRecording();
            } else {
                startVideoRecording();
            }
        }

        function startVideoRecording() {
            if (!recordingStream) return;

            const recordBtn = document.getElementById('recordBtn');
            const timer = document.getElementById('recordingTimer');
            
            recordBtn.classList.add('recording');
            timer.style.display = 'block';
            
            mediaRecorder = new MediaRecorder(recordingStream);
            const chunks = [];
            
            mediaRecorder.ondataavailable = (event) => {
                if (event.data.size > 0) {
                    chunks.push(event.data);
                }
            };
            
            mediaRecorder.onstop = () => {
                const blob = new Blob(chunks, { type: 'video/webm' });
                // Process recorded video
                processRecordedVideo(blob);
            };
            
            mediaRecorder.start();
            isRecording = true;
            recordingStartTime = Date.now();
            
            recordingTimer = setInterval(updateRecordingTimer, 1000);
        }

        function stopRecording() {
            if (mediaRecorder && isRecording) {
                mediaRecorder.stop();
                isRecording = false;
                
                const recordBtn = document.getElementById('recordBtn');
                const timer = document.getElementById('recordingTimer');
                
                recordBtn.classList.remove('recording');
                timer.style.display = 'none';
                
                clearInterval(recordingTimer);
            }
        }

        function updateRecordingTimer() {
            const elapsed = Math.floor((Date.now() - recordingStartTime) / 1000);
            const minutes = Math.floor(elapsed / 60).toString().padStart(2, '0');
            const seconds = (elapsed % 60).toString().padStart(2, '0');
            document.getElementById('recordingTimer').textContent = `${minutes}:${seconds}`;
        }

        function processRecordedVideo(blob) {
            // Create video URL and show preview
            const videoUrl = URL.createObjectURL(blob);
            console.log('Video recorded:', videoUrl);
            alert('Video recorded successfully! Processing...');
            closeCameraModal();
        }

        function addEffect() {
            alert('Effects feature coming soon!');
        }

        function addMusic() {
            alert('Music feature coming soon!');
        }

        function uploadVideo() {
            document.getElementById('galleryModal').classList.remove('hidden');
        }

        function closeGalleryModal() {
            document.getElementById('galleryModal').classList.add('hidden');
            document.getElementById('uploadPreview').style.display = 'none';
            document.getElementById('videoUpload').value = '';
        }

        function handleVideoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const video = document.getElementById('uploadedVideo');
                const preview = document.getElementById('uploadPreview');
                
                video.src = URL.createObjectURL(file);
                preview.style.display = 'block';
            }
        }

        function processUploadedVideo() {
            const video = document.getElementById('uploadedVideo');
            console.log('Processing uploaded video:', video.src);
            alert('Video uploaded successfully! Processing...');
            closeGalleryModal();
        }

        function goLive() {
            alert('Live streaming feature will be implemented here');
        }
    </script>
</body>
</html>